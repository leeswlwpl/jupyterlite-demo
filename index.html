<!DOCTYPE html>
<html>
  <head>
    <title>JupyterLite</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="Description" content="WASM powered Jupyter running in the browser." />
    <link rel="manifest" href="../manifest.webmanifest" />
    <link
      id="jupyter-lite-main"
      rel="preload"
      href="../build/lab/bundle.js?_=182ef6f"
      main="index"
      as="script"
    />
    <script
      id="jupyter-config-data"
      type="application/json"
      data-jupyter-lite-root=".."
    >
      {}
    </script>
    <script>
      (async function () {
        const { pathname, origin, search, hash } = window.location;
        if (pathname.match(/(index.html|\/?)$/) == null) {
          window.location.href = `${origin}${pathname}/${search}${hash}`;
          return;
        }
        await import(
          '../config-utils.js?_=182ef6f'
        );
      }.call(this));
    </script>

    <script>
      alert("index custom script 1");
    </script>

    <script type="text/javascript">
      console.log("load custom package")

      const { pyodide } = window.pyodide;

      async function installPackage(packageName) {
        console.log(`Installing package '${packageName}'...`)
        // Load the package
        await pyodide.loadPackage(packageName);
        console.log(`Package '${packageName}' installed successfully!`);
      }
      installPackage('snowballstemmer');


      async function main() {
        console.log("start main")


        let pyodide = await loadPyodide();
        await pyodide.loadPackage(["seaborn"]);


        await pyodide.loadPackage("micropip");

        const micropip = pyodide.pyimport("micropip");
        await micropip.install("snowballstemmer");
        await micropip.install("seaborn");


        console.log("before res1")
        let res1 = await pyodide.runPython(`
          import snowballstemmer
          stemmer = snowballstemmer.stemmer('english')
          print(stemmer.stemWords('go goes going gone'.split()))
        `);
        console.log("res1", res1)
        let res2 = await pyodide.runPython(`
          import pyodide_http
          pyodide_http.patch_all()
        `);
        console.log("res2", res2)

        return "done"
      }
      main();

      console.log("code after main")
    </script>



    <link rel="stylesheet" href="custom.css">


  </head>
  <body data-notebook="lab"></body>
</html>
